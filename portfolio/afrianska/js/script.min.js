function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let iconMenu=document.querySelector(".icon-menu"),bodyMenu=document.querySelector(".menu__body");function burgerMenu(){iconMenu.classList.toggle("_active"),bodyMenu.classList.toggle("_active")}iconMenu.addEventListener("click",burgerMenu);let clientLogo=document.querySelectorAll(".clients__logo img"),clientLogoLinks=document.querySelectorAll(".clients__logo");function logoCheck(e){let t=1;for(let e of clientLogo)"#"===e.getAttribute("src")&&e.classList.add("_hidden");for(let o of e)o.querySelector("img").classList.contains("_hidden")?(o.append("LOGO CLIENT "+t),t++):t++}logoCheck(clientLogoLinks);let body=document.querySelector("body"),shadow=document.querySelector("._shadow"),footerButton=document.querySelector(".footer__button"),popupForm=document.querySelector(".popup__form"),closeButtons=document.querySelectorAll(".popup__close"),popups=document.querySelectorAll(".popup"),successPopup=document.querySelector(".popup__success");function popupFormAppearance(e){e.preventDefault(),popupForm.classList.toggle("_disabled"),popupForm.classList.toggle("_opened"),bodyLock()}function bodyLock(){body.classList.toggle("_lock"),shadow.classList.toggle("_disabled"),document.addEventListener("keydown",escapeClosePopup),document.addEventListener("click",externalClosePopup)}function popupeClose(){for(let e of popups)e.classList.add("_disabled"),e.classList.remove("_opened");bodyLock(),document.removeEventListener("keydown",escapeClosePopup),document.removeEventListener("click",externalClosePopup)}function escapeClosePopup(e){"Escape"===e.code&&popupeClose()}function externalClosePopup(e){const t=e.target;t.closest(".popup")||t.closest(".footer__button")||popupeClose()}footerButton.addEventListener("click",popupFormAppearance);for(let e of closeButtons)e.addEventListener("click",popupeClose);let forms=document.querySelectorAll("#contact-form"),inputPlaceholder=document.querySelectorAll("._placeholder");function placeholderRemove(){this.value===this.dataset.placeholder&&(this.value=""),this.classList.add("_fill")}function placeholderAppend(){""===this.value&&(this.value=this.dataset.placeholder,this.classList.remove("_fill"))}for(let e of inputPlaceholder)e.value=e.dataset.placeholder,e.addEventListener("focus",placeholderRemove),e.addEventListener("blur",placeholderAppend);for(let e of forms){let t=e.querySelectorAll(".form__input"),o=e.querySelector(".form__submit"),l=0;function addError(e,t){let o=document.createElement("p");o.classList.add("_error-message"),o.append({email:"Please fill in the email correctly - example@icloud.com",text:"Please, fill in this field"}[t]),e.parentElement.classList.add("_error"),e.parentElement.insertAdjacentElement("beforeEnd",o)}function removeError(e){let t=e.parentElement.querySelector("._error-message");t.parentElement.removeChild(t),e.parentElement.classList.remove("_error"),l--}function inputFillCheck(e){return""!==e.value&&e.value!==e.dataset.placeholder}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.value).toLowerCase())}function validationForm(){let e;for(let o of t)inputFillCheck(o)?o.classList.contains("_email")&&(validateEmail(o)||(e="email",addError(o,e),l++)):(e="text",addError(o,e),l++)}function inputRemoveError(){this.parentElement.classList.contains("_error")&&removeError(this)}function submitButtonReactivation(){0===l&&o.removeAttribute("disabled")}for(let e of t)e.addEventListener("focus",inputRemoveError),e.addEventListener("blur",submitButtonReactivation),e.addEventListener("mouseout",submitButtonReactivation);async function formSend(t){t.preventDefault(),validationForm();let n=new FormData(e);if(0!==l)o.setAttribute("disabled",!0);else{let t=await fetch("sendform.php",{method:"POST",body:n});if(t.ok)popupForm.classList.add("_disabled"),successPopup.classList.remove("_disabled"),bodyLock(),e.reset();else{let e=await t.json();alert(e.message)}}}e.addEventListener("submit",formSend)}